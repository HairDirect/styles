$formfieldheight: 3.25;

form {
	display: block;
}

input[type=text], input[type=tel], input[type=number], select {
	@include rem-height($formfieldheight);
}

input[type=text] + label, input[type=tel] + label, textarea + label, select + label {
	position: absolute;
	@include font(1,300,3);
	z-index: 99;
	color: #464646;
	padding: 0 1rem;
	margin-top: -3.5em;
	letter-spacing: 0;
}

input[type=text], input[type=tel], input[type=number], textarea, select {
	width: 100%;
	border: 1px solid #c5c8cc;
	border-radius: $brand-round;
	position: relative;
	top: 0;
	left: 0;
	z-index: 1;
	padding: 1em 1em 0;
	color: #282828;
	background-color: $white;
	outline: 0;

	&.nolabel {
		padding-top: 0;
	}

	& + label {
		color: #a1a1a1;
	}

	&:focus {
		padding-left: .944em;
		padding-top: .944em;
		border-width: 2px;
		border-color: #6fadd6 !important;

		& + label {
			@extend %textinputlabel;
		}
	}

	&.required {
		border-color: #818386;

		& + label {
			color: #464646;

			&:after {
				@extend .required_indicator;
			}
		}

		&.complete {
			& + label {
				&:after {
					@extend .required_indicator;
					color: #464646 !important;
				}
			}
		}
	}

	&.valid {
		background-color: $lighter-green !important;
		border-color: $green !important;

		&:focus {
			background-color: $light-green !important;
		}

		& + label {
			color: $green !important;
		}
	}

	&.error {
		border-color: $red !important;

		& + label {
			font-weight: bold;
			color: $red !important;
		}
	}

	&:valid {
		// Hides the label
		background: $lightest;
	}
}

// make the active label style stick when there is content in the field
%textinputlabel {
	padding: 0 1rem;
	@include font(0.6, 500, 1);
	height: 1rem;
	text-transform: uppercase;
	margin-top: -3rem;
	letter-spacing: 1px !important;
	pointer-events: none;
}

label.notempty {
	@extend %textinputlabel;
	@include font-size(0.6, important);
	line-height: 1rem !important;
	margin-top: -3rem !important;
	font-weight: 500 !important;
}


textarea, textarea.threelines {
	// Standard size is 2x the standard text field height
	@include rem-height($formfieldheight * 2, important);
	@include line-height(1.5);
	display: block;
	resize: none;
	padding-top: 1.5rem;

	& + label {
		margin-top: -6.5rem;
	}

	& + label.notempty {
		margin-top: -6.2rem !important;
	}

	&:focus {
		@include rem-attribute('padding-top', 1.438);

		& + label {
			margin-top: -6.2rem;
		}
	}

	&.fourlines {
		@include rem-height($formfieldheight * 2.5, important);

		& + label {
			margin-top: -7.5rem;
		}

		&:focus + label {
			margin-top: -7.8rem;
		}

		& + label.notempty {
			margin-top: -7.8rem !important;
		}
	}

	&.fivelines {
		@include rem-height($formfieldheight * 3, important);

		& + label {
			margin-top: -9.1rem;
		}

		&:focus + label {
			margin-top: -9.4rem;
		}

		& + label.notempty {
			margin-top: -9.4rem !important;
		}
	}
}
/********************************

RADIO BUTTON CARD STYLE

*********************************/
input[type=radio] {
	display: none;

	& + label.card {
		@extend .card;
	}
}

.no-touch input[type=radio] {
}


.card.selected {
	&:before {
		@include font-size(2);
		@include line-height(1);
		text-align: center;
		display: block;
	}

	&.label {
		div:first-of-type:after {
			position: relative;
			display: block;
			float: right;
			margin-top: -.7em;
			margin-right: 1em;

		}
	}
}
/********************************

DROP DOWN

*********************************/
select {
	-webkit-appearance: none;
}

.dropdownlabel {
	text-align: left;
}

input.autocomplete {
	width: 85%;

	@media #{$lap} {
		width: 88%;
	}

	@media #{$desk} {
		width: 92%;
	}

	margin: 0 !important;
	float: left;
	border-top-right-radius: 0;
	border-bottom-right-radius: 0;

	& + label {
		height: 52px;
		clear: both;
		float: none;
		display: block;
		margin-top: 0 !important;
	}
}

.show-all {
	width: 15%;

	@media #{$lap} {
		width: 12%;
	}

	@media #{$desk} {
		width: 8%;
	}

	margin: 0 !important;
	height: 52px;
	padding: 0;
	display: block;
	float: left;
	@include border;
	border-top-right-radius: $brand-round;
	border-bottom-right-radius: $brand-round;
	border-bottom-left-radius: 0;
	border-top-left-radius: 0;
	line-height: 3rem;
	border-left: 0;
	text-align: center;
}

.error ~ .show-all {
	background: $red;
	color: $light-red;
	border-bottom-left-radius: 0;
	border-bottom-right-radius: 0;
}

.ui-autocomplete {
	width: 100% !important;
	list-style: none;
	height: 7rem;
	overflow-y: scroll;
	border: 1px solid $dark;
	border-bottom-right-radius: $brand-round;
	border-bottom-left-radius: $brand-round;
	border-top: 0;

	li {
		display: block;
		width: 100%;
		height: 2rem;
		line-height: 2rem;
		text-align: left !important;
		text-indent: 1em;

		a {
			border: none !important;
			width: 100%;
			display: block;
			cursor: default;
		}

		background: $lightest;
		border-bottom: 1px solid $lighter;

		&:hover {
			background: darken($lightest, 10);
		}

		&:nth-of-type(even) {
			background: $lighter;

			&:hover {
				background: darken($lighter, 10);
			}
		}
	}
}

.error ~ .ui-autocomplete {
	border-bottom-left-radius: 0;
	border-bottom-right-radius: 0;
	border-color: $red;

	li {
		background: lighten($light-red, 5);
		border-bottom: 1px solid $light-red;
		color: $red;

		&:nth-of-type(even) {
			background: $light-red;
		}
	}
}
/********************************

OTHER STYLES

*********************************/
.required_indicator:after {
	@include pseudo(auto, auto, "*");
	color: $red;
	margin-left: 2px;
	margin-top: 4px;
	font-weight: bold;
	float: right;
	@include font-size(1.4);
}

.required-field-message {
	@include font(.6, bold);
	text-transform: uppercase;
	color: $red;
	text-align: right;
	@extend .required_indicator;
	text-shadow: 0px 1px 0px #ccc;
}
/********************************

VALIDATION

*********************************/
.error-container {
	padding-left: 1.34em;

	.card {
		@include rem-attribute('margin-top', 2);
		border: 1px solid $medium-red;
		background-image: none;
		background-color: $red;
		color: $dark-red;
		@media #{$desk} {
			margin-top: 0;
		}
		h3.message {
			margin-top: 0;
		}

		.details {
			@include font-size(1);
			font-weight: bold;
			@include rem-attribute('margin-bottom', .5);
		}

		ul {
			list-style-type: none;
			@include font-size(1);
			@include rem-attribute('margin-left', 1);

			li {
				list-style-type: none;
				color: $white;
				@include line-height(1.25);
				font-weight: 300;
			}
		}
	}
}

input.error, textarea.error {
	border-bottom-left-radius: 0;
	border-bottom-right-radius: 0;
}

input ~ .error, label ~ .error {
	display: block;
	clear: both;
	background: $red;
	color: $white;
	padding: .5em;
	@include font-size(.875);
	font-weight: bold;
	border-bottom-left-radius: $brand-round;
	border-bottom-right-radius: $brand-round;
	@include border(all, $lineweight, $linetype, $red);
	border-top-width: 0px;
	text-align: left;
}
